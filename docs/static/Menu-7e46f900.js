import{s as ve,an as _e,D as Q,a as oe,b as ie,T as Le,L as te,e as se,B as H,ao as me,ap as h,aq as de,ar as Ie,d as Se,as as Ce,x as o,at as Ae,au as G,U as Be,G as Fe,av as De,aw as Pe,ax as Te,ay as ue,af as $e,az as Oe,y as i,aA as Xe,S as je,u as ke,j as K,aB as Ye,aC as he,aD as ge,_ as He,I as pe,aE as Ne,k as Ue,aF as Ve,aG as qe,am as Ge,aH as Je,a9 as Ke,$ as Qe,V as Ze,aI as et}from"./@mui-fa711f64.js";import{g as ye,i as re,m as ze,e as tt,n as nt,a as C,b as B,I as fe,s as at,c as lt,d as ot,f as O,h as Ee,j as it,k as st,S as rt,l as ct,o as mt,p as dt,q as ut,r as xe,t as ht,C as gt,u as pt,v as ft,w as Et}from"./index-6f98314d.js";import{o as Me}from"./mobx-react-1c6baff6.js";import{u as J}from"./react-i18next-0e366d71.js";import"./react-2b221fbb.js";import"./@emotion-307c4334.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./@babel-e5f941c7.js";import"./stylis-79144faa.js";import"./react-transition-group-6566369a.js";import"./@popperjs-61ffd834.js";import"./clsx-0839fdbe.js";import"./prop-types-d9a440a1.js";import"./react-dom-d3bdc6a0.js";import"./monaco-editor-5cf1114e.js";/* empty css                      */import"./i18next-c75e253c.js";import"./@monaco-editor-863e66c9.js";import"./state-local-dd516420.js";import"./react-resizable-cd8174cc.js";import"./react-draggable-424a1664.js";import"./i18next-browser-languagedetector-ac00b891.js";import"./mobx-3741033e.js";import"./mobx-react-lite-1ad052b5.js";import"./use-sync-external-store-b84fba6b.js";const xt=window.React,ce=ve(n=>xt.createElement(_e,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...n}))(({theme:n})=>({"& .MuiPaper-root":{borderRadius:6,marginTop:n.spacing(1),color:n.palette.mode==="light"?"rgb(55, 65, 81)":n.palette.grey[300],"& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:20,color:n.palette.mode==="light"?"rgb(55, 65, 81)":n.palette.grey[300],marginRight:n.spacing(1.5)}}}})),v=window.React;function bt(n){const{t:d}=J();v.useRef();let[M,p]=v.useState(!1);const[x,a]=v.useState("https://bigonion.cn"),[A,b]=v.useState(!1);let T=u=>{p(()=>!1),n.onClick(u)},w=async u=>{ye()};const R=u=>F=>{F.stopPropagation(),window.location.href=u},g=()=>{navigator.clipboard.writeText(x).then(()=>{b(!0),setTimeout(()=>b(!1),2e3)}).catch(u=>{console.error("Failed to copy URL:",u)})};return v.createElement(v.Fragment,null,v.createElement(Q,{fullWidth:!0,maxWidth:"sm",open:M,onClose:T},v.createElement(oe,null,"真·分享"),v.createElement(ie,null,v.createElement(Le,{title:A?"已复制!":"点击复制"},v.createElement(te,{value:x,variant:"outlined",fullWidth:!0,InputProps:{readOnly:!0},onClick:g}))),v.createElement(se,null,v.createElement(H,{onClick:w},"创建分享链接"))),v.createElement(me,null),d("t-share"),v.createElement(ce,{style:{width:"fitContent"},anchorOrigin:{vertical:-5,horizontal:12},id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:n.anchorEl,open:n.open,onClick:n.onClick},v.createElement(h,{onClick:u=>{u.stopPropagation(),p(!0)},disabled:!0,disableRipple:!0},v.createElement(me,null),"真·分享"),v.createElement(h,{onClick:R("weixin://dl/scan"),disableRipple:!0},v.createElement(de,null),"WeChat"),v.createElement(h,{onClick:R("tg://"),disableRipple:!0},v.createElement(de,null),"Telegram"),v.createElement(h,{onClick:R("mailto:bigonion@bigonion.cn?subject=你的主题&body=你的邮件内容"),disableRipple:!0},v.createElement(Ie,null),"Email")))}const wt=(await re("https://cdn.jsdmirror.com/npm/bigonion-kit@0.12.6/esm/kit.min.js")).default;function vt(){let n=ye()??"";wt.sleep(250).then(()=>{var d=document.createElement("a");d.href="data:text/plain;charset=utf-8,"+encodeURIComponent(n),d.download="text.md",d.click()})}const m=window.React;function St(n){const{t:d}=J();let M=n.closeExportMenu,[p,x]=m.useState(!1),a=g=>{console.log(g),M(g),x(()=>!1)},A=m.useRef();const[b,T]=m.useState(3),w=g=>{g.stopPropagation(),T(g.target.value)};let R=g=>{a(g);let u=A.current.value;tt(b??4,u??"md_snapshot.png"),n.closeMenu(g),nt("导出成功！","Beta版本",{kind:"info",position:"topRight"})};return m.createElement(m.Fragment,null,m.createElement(Q,{className:"avoid",onClose:a,open:p,fullWidth:!0,maxWidth:"sm"},m.createElement("div",{onClick:g=>{g.stopPropagation()}},m.createElement(oe,null,"导出设置"),m.createElement(ie,null,m.createElement(Se,null,"请选择图片清晰度"),m.createElement("br",null),m.createElement(Ce,{fullWidth:!0},m.createElement(o,null,m.createElement(Ae,{id:"demo-simple-select-label"},"图片清晰度"),m.createElement(G,{label:"图片清晰度",defaultValue:"4",defaultChecked:!0,fullWidth:!0,onChange:w},m.createElement(h,{value:"1"},"1 (比较模糊,体积轻巧)"),m.createElement(h,{value:"2"},"2 (有些模糊)"),m.createElement(h,{value:"4"},"3 (默认,适中,推荐)"),m.createElement(h,{value:"6"},"4 (比较清晰,体积稍大)"),m.createElement(h,{value:"10"},"5 (超鸡无敌霹雳霸清晰,体积较大)"))),m.createElement(o,{marginX:"8px"},m.createElement(te,{inputRef:A,margin:"dense",id:"export_img_name",defaultValue:"md_snapshot.png",label:"导出的文件名",type:"text",fullWidth:!0,variant:"standard",placeholder:"md_snapshot.png"})))),m.createElement(se,null,m.createElement(H,{onClick:a},"取消"),m.createElement(H,{onClick:R},"确认导出")))),m.createElement(Be,null),d("t-export"),m.createElement(ce,{style:{width:"fitContent"},anchorOrigin:{vertical:-5,horizontal:12},id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:n.anchorEl,open:n.open,onClick:g=>{M(g)}},m.createElement(h,{onClick:()=>{ze()},disableRipple:!0},m.createElement(Fe,null),d("t-export-pdf")),m.createElement(h,{onClick:g=>{x(!0),M(g)},disableRipple:!0},m.createElement(De,null),d("t-export-image")),m.createElement(h,{onClick:()=>{vt()},disableRipple:!0},m.createElement(Pe,null),d("t-export-markdown"))))}const U=window.React;function Ct(n){n.preventDefault()}function kt(){return U.createElement(o,{sx:{marginBottom:"5px"},role:"presentation",onClick:Ct},U.createElement(Te,{"aria-label":"breadcrumb"},U.createElement(ue,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",href:"/"},U.createElement($e,{sx:{mr:.5},fontSize:"inherit"}),"MUI"),U.createElement(ue,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",href:"/material-ui/getting-started/installation/"},U.createElement(Oe,{sx:{mr:.5},fontSize:"inherit"}),"Basic"),U.createElement(i,{sx:{display:"flex",alignItems:"center"},color:"text.primary"},U.createElement(Xe,{sx:{mr:.5},fontSize:"inherit"}),"Theme")))}let yt=ve(je)(({theme:n})=>({width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>')`},"& + .MuiSwitch-track":{opacity:1,backgroundColor:n.palette.mode==="dark"?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:n.palette.mode==="dark"?"#003892":"#001e3c",width:32,height:32,"&::before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>')`}},"& .MuiSwitch-track":{opacity:1,backgroundColor:n.palette.mode==="dark"?"#8796A5":"#aab4be",borderRadius:20/2}}));const t=window.React,zt=(await re("https://cdn.jsdmirror.com/npm/mermaid@10/dist/mermaid.esm.min.mjs")).default,be=(await re("https://cdn.jsdmirror.com/npm/bigonion-kit@0.12.6/esm/kit.min.js")).default,X={transition:"background-color 0.4s ease, box-shadow 0.4s ease",position:"relative",padding:"5px",borderRadius:"3px",display:"flex",flexDirection:"column",mt:"10px",mb:"5px",ml:"0px",pl:"25px",willChange:"background-color, box-shadow","&::before":{content:'""',position:"absolute",left:0,top:0,height:"100%",width:4,backgroundColor:"transparent",transition:"background-color 0.2s cubic-bezier(0.5, 0.05, 1, 0.5)"}},D=n=>({"&:hover::before":{backgroundColor:C()==="light"?"#840084":"#d2d2d2"},"&:hover":{backgroundColor:C()==="light"?"#EAEAEA":"#393939",boxShadow:"0px 4px 12px rgba(20, 15, 15, 0.1)"}}),Mt=Me(function(){const{t:d,i18n:M}=J();C();const p=ke(),x={...X,transition:"background-color 2s ease, box-shadow 0.4s ease","&::before":{...X["&::before"],transition:"background-color 0.24s ease 0.1s"}},a={color:p.palette.info.contrastText??"#8B8A8A",fontSize:"0.79rem",fontWeight:500,mb:"5px"},[A,b]=t.useState(!1),T=e=>{O({advanced:{imageSettings:{...B().advanced.imageSettings,modePrefer:e.target.value==="folder"?"folder":"vf"}}})},w=e=>{O({advanced:{imageSettings:{...B().advanced.imageSettings,basicStyle:e.target.value}}})},R=e=>{O({advanced:{imageSettings:{...B().advanced.imageSettings,imgStorePath:e.target.value}}})};function g(e,r){const E=document.querySelector(".markdown-body");r?(Ee("dark"),b(e.target.checked),E.style.cssText=""):(Ee("light"),b(e.target.checked))}function u(e,r){r?O({basic:{syncScroll:!0}}):O({basic:{syncScroll:!1}})}function F(e){O({basic:{speechLanguage:e.target.value}})}function N(e){O({basic:{fontSize:e.target.value}}),document.getElementsByClassName("fontSizeStyle")&&(be.removeAddedStyle("fontSizeStyle"),be.addStyle(`
      .markdown-body p,
      .markdown-body ol,
      .markdown-body li,
      .markdown-body div {
          font-size: ${B().basic.fontSize}px;
      }
        `,"fontSizeStyle"))}function j(e){O({basic:{editorAutoWrap:e.target.value===1}}),window.editor.updateOptions({wordWrap:B().basic.editorAutoWrap?"on":"off"})}function $(e){O({basic:{fontFamily:e.target.value===1?"Times New Roman":'-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"'}})}function s(e){let r=e.target.value;M.changeLanguage(e.target.value),document.documentElement.lang=e.target.value,it({memorable:{languageChanged:!0}}),O({basic:{language:r}})}function f(e){O({advanced:{mermaidTheme:e.target.value}}),zt.init({theme:e.target.value}),st()}return t.useEffect(()=>{b(C()==="dark")},[C()]),t.createElement(t.Fragment,null,t.createElement(o,{className:"transparent-scrollbar",sx:{width:"100%",padding:"1rem",display:"flex",flexDirection:"column",fontSize:"0.89rem",maxHight:"200px",overflowY:"scroll"}},t.createElement(i,{id:"settings_1_x",sx:{fontSize:"30px",fontWeight:"700"}},"基础设置"),t.createElement(K,null),t.createElement(o,{id:"settings_1_1",sx:{...X,...D(C())}},t.createElement(i,{sx:{fontSize:"0.89rem",fontWeight:500}},"Theme"),t.createElement(i,{sx:a},"更改编辑器的主题"),t.createElement(yt,{checked:A,size:"small",inputProps:{"aria-label":"controlled"},onChange:g})),t.createElement(o,{id:"settings_1_2",sx:{...X,...D(C())}},t.createElement(i,{sx:{fontSize:"0.89rem",fontWeight:500}},"Language"),t.createElement(i,{sx:a},"更改编辑器的语言"),t.createElement(G,{value:B().basic.language??"zh",defaultChecked:!0,size:"small",color:"primary",onChange:s},t.createElement(h,{value:"zh"},"中文"),t.createElement(h,{value:"en"},"English"))),t.createElement(we,{id:"settings_1_3",content:"编辑器设置"}),t.createElement(o,{sx:{...X,...D(C())},id:"settings_1_2"},t.createElement(o,{sx:{...x,...D(C())}},t.createElement(o,{className:"FLEX ROW"},t.createElement(i,{sx:{fontSize:"0.89rem",fontWeight:500}},"Font Size")),t.createElement(i,{sx:a},"更改渲染后文字字体大小"),t.createElement(G,{value:B().basic.fontSize,defaultChecked:!0,fullWidth:!0,size:"small",onChange:N},[...Array(10).keys()].map(e=>{const r=8+e*2;return t.createElement(h,{key:r,value:r},r," px")}))),t.createElement(o,{sx:{...x,...D(C())}},t.createElement(o,{className:"FLEX ROW"},t.createElement(i,{sx:{fontSize:"0.89rem",fontWeight:500}},"Font Family")),t.createElement(i,{sx:a},"更改渲染后文字字体"),t.createElement(G,{value:B().basic.fontFamily==="Times New Roman"?1:0,defaultChecked:!0,fullWidth:!0,size:"small",onChange:$},t.createElement(h,{value:0},"Defualt"),t.createElement(h,{value:1},"Times New Roman"))),t.createElement(o,{sx:{...X,...D(C())}},t.createElement(o,{className:"FLEX ROW"},t.createElement(i,{sx:{fontSize:"0.89rem",fontWeight:500}},"Synchronous Scrolling")),t.createElement(i,{sx:a},"同步滚动左边编辑区和预览区域。"),t.createElement(fe,{checked:B().basic.syncScroll,size:"small",inputProps:{"aria-label":"controlled"},onChange:u})),t.createElement(o,{sx:{...X,...D(C())}},t.createElement(o,{className:"FLEX ROW"},t.createElement(i,{sx:{fontSize:"0.89rem",fontWeight:500}},"Editor Auto Wrap")),t.createElement(i,{sx:a},"是否开启编辑器自动换行"),t.createElement(G,{value:B().basic.editorAutoWrap?1:0,defaultChecked:!0,fullWidth:!0,size:"small",onChange:j},t.createElement(h,{value:1},"On"),t.createElement(h,{value:0},"OFF")))),t.createElement(o,{id:"settings_1_4",sx:{...X,...D(C())}},t.createElement(i,{sx:{fontSize:"0.89rem",fontWeight:500}},"Speech To Text"),t.createElement(i,{sx:a},"选择语音转文字的识别语言"),t.createElement(G,{value:B().basic.speechLanguage??"zh-CN",defaultChecked:!0,fullWidth:!0,size:"small",onChange:F},at.map((e,r)=>t.createElement(h,{key:r,value:e[0]},e[1])))),t.createElement(i,{id:"settings_2_x",sx:{mt:"20px",fontSize:"30px",fontWeight:"700"}},"高级设置（施工中）"),t.createElement(K,null),t.createElement(o,{id:"settings_2_1",sx:{...X,...D(C())}},t.createElement(i,{sx:{fontSize:"0.89rem",fontWeight:500}},"Export Settings"),t.createElement(i,{sx:a},"更改导出设置(施工中)"),t.createElement(fe,{disabled:!0,size:"small",inputProps:{"aria-label":"controlled"}})),t.createElement(o,{sx:{...X,...D(C())}},t.createElement(i,{id:"settings_2_2",sx:{fontSize:"0.89rem",fontWeight:500}},"Mermaid Theme Configs"),t.createElement(i,{sx:a},"Mermaid流程图主题"),t.createElement(G,{value:B().advanced.mermaidTheme??"default",defaultChecked:!0,fullWidth:!0,size:"small",color:"primary",onChange:f},lt.map((e,r)=>t.createElement(h,{key:r,value:e},ot[r])))),t.createElement(we,{id:"settings_2_3",content:"图片设置"}),t.createElement(o,{sx:{...X,...D(C())}},t.createElement(o,{sx:{...x,...D(C())}},t.createElement(i,{id:"settings_2_3",sx:{fontSize:"0.89rem",fontWeight:500}},"Image Storage Mode Preference (Pasting)"),t.createElement(i,{sx:a},"选择粘贴图片优先存储在浏览器/文件夹"),t.createElement(Ce,{sx:{transition:"inherit"}},t.createElement(Ye,{value:B().advanced.imageSettings.modePrefer,onChange:T},t.createElement(he,{value:"folder",control:t.createElement(ge,{sx:{"& .MuiSvgIcon-root":{fontSize:22,color:"#65C466"}}}),label:"本地文件夹 (Prefer In Local Folder)"}),t.createElement(he,{value:"vf",control:t.createElement(ge,{sx:{"& .MuiSvgIcon-root":{fontSize:22,color:"#65C466"}}}),label:"浏览器 (Prefer In Browser)"})))),t.createElement(o,{sx:{...x,...D(C())}},t.createElement(i,{id:"settings_2_4",sx:{fontSize:"0.89rem",fontWeight:500}},"Default Image Style"),t.createElement(i,{sx:a},"默认填充的图片样式，大小，位置等,w表示大小, c表示center, s表示shadow"),t.createElement(te,{fullWidth:!0,margin:"normal",name:"basicStyle",label:"基本样式",value:B().advanced.imageSettings.basicStyle,onChange:w})),t.createElement(o,{sx:{...x,...D(C())}},t.createElement(i,{id:"settings_2_5",sx:{fontSize:"0.89rem",fontWeight:500}},"Default Stored Path"),t.createElement(i,{sx:a},'默认粘贴图片上传的路径，如设置为"images"，则图片会上传到名根目录的一个为"images"的文件夹下，如该项为空，则保持默认的"images"文件夹'),t.createElement(te,{disabled:B().advanced.imageSettings.modePrefer==="vf",fullWidth:!0,margin:"none",name:"imgStorePath",label:"图片存储路径",value:B().advanced.imageSettings.imgStorePath,onChange:R})))))}),we=({content:n,id:d})=>t.createElement(t.Fragment,null,t.createElement(i,{id:d,sx:{mt:"5px",fontSize:"22px",fontWeight:700}},n),t.createElement(K,null)),P=window.React;function Rt(n){const{t:d}=J();ke().palette;const M=C();P.useRef();let[p,x]=P.useState(!1);P.useState("");let a=A=>{x(()=>!1),n.onClick(A),n.closeAll()};return P.createElement(P.Fragment,null,P.createElement(Q,{fullScreen:!1,maxWidth:!1,open:n.open,onClose:a,sx:{height:"100vh"}},P.createElement(o,{sx:{background:M==="light"?"#F8FAFB":"",padding:"1rem",height:"68vh",width:"70vw"}},P.createElement(kt,null),P.createElement(K,{sx:{my:.5}}),P.createElement(o,{sx:{height:"58vh",display:"flex",background:M==="light"?"#F8FAFB":"",padding:"5px",flexDirection:"row",borderRradius:"50px",borderRadius:"5px"}},P.createElement(rt,null),P.createElement(Mt,null)))),P.createElement(He,null),d("t-settings"))}const S=window.React,Z=window.React.useState,Wt=window.React.useRef;function _t(n){const{t:d}=J(),M=C(),[p,x]=Z({width:400,height:700}),[a,A]=Z({x:200,y:50}),[b,T]=Z(!1),[w,R]=Z(!1),[g,u]=Z(!1),F=Wt({offsetX:0,offsetY:0}),N=e=>{n.onClick(e),n.closeAll()},j=e=>{R(!0),F.current={offsetX:e.clientX-a.x,offsetY:e.clientY-a.y}},$=e=>{if(!w)return;const r=window.innerWidth-p.width,E=window.innerHeight-p.height,W=Math.max(0,Math.min(r,e.clientX-F.current.offsetX)),_=Math.max(0,Math.min(E,e.clientY-F.current.offsetY));A({x:W,y:_})},s=()=>{R(!1)};S.useEffect(()=>{if(w)return document.addEventListener("mousemove",$),document.addEventListener("mouseup",s),()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",s)}},[w,p]);const f=()=>{T(!b)};return S.createElement(S.Fragment,null,S.createElement(Q,{hideBackdrop:!0,fullScreen:!1,maxWidth:!1,open:n.open,onClose:N,PaperProps:{style:{position:"fixed",left:b?0:a.x,top:b?0:a.y,width:b?"100vw":p.width,height:b?"100vh":p.height,margin:0,maxWidth:"none",maxHeight:"none",background:"transparent",boxShadow:"none",overflow:"visible",transition:w||g?"none":"all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1)"}}},S.createElement(o,{onMouseDown:j,sx:{height:"40px",background:M==="light"?"#F8FAFB":"#2B2B2B",borderRadius:"8px 8px 0 0",display:"flex",alignItems:"center",justifyContent:"space-between",px:2,cursor:w?"grabbing":"grab",borderBottom:`1px solid ${M==="light"?"#e0e0e0":"#404040"}`,userSelect:"none",transition:w||g?"none":"all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1)"}},S.createElement(i,{variant:"body2",sx:{color:M==="light"?"#666":"#ccc"}},"LetShare - 协作分享"),S.createElement(o,{sx:{display:"flex",gap:.5}},S.createElement(pe,{size:"small",onClick:f},S.createElement(Ne,{fontSize:"small"})),S.createElement(pe,{size:"small",onClick:N},S.createElement(Ue,{fontSize:"small"})))),S.createElement(o,{sx:{height:b?"calc(100vh - 40px)":p.height-40,width:"100%",background:"#F8FAFB",borderRadius:"0 0 8px 8px",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.2)",overflow:"hidden",position:"relative",transition:w||g?"none":"all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1)"}},S.createElement("iframe",{src:"https://letshare.fun",style:{width:"100%",height:"100%",border:"none",borderRadius:"0 0 8px 8px",background:"transparent"},title:"Let's Share",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-presentation"}),(w||g)&&S.createElement(o,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:999,cursor:w?"grabbing":"default",background:"transparent"}}),!b&&S.createElement(S.Fragment,null,S.createElement(o,{sx:{position:"absolute",left:-8,top:0,width:16,height:"100%",cursor:"ew-resize",zIndex:1e3},onMouseDown:e=>{e.preventDefault(),u(!0);const r=e.clientX,E=p.width,W=a.x,_=L=>{const y=L.clientX-r,Y=Math.max(300,Math.min(window.innerWidth,E-y)),I=E-Y,V=Math.max(0,Math.min(window.innerWidth-Y,W+I));x(q=>({...q,width:Y})),A(q=>({...q,x:V}))},k=()=>{u(!1),document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",k)};document.addEventListener("mousemove",_),document.addEventListener("mouseup",k)}}),S.createElement(o,{sx:{position:"absolute",right:-8,top:0,width:16,height:"100%",cursor:"ew-resize",zIndex:1e3},onMouseDown:e=>{e.preventDefault(),u(!0);const r=e.clientX,E=p.width,W=k=>{const L=Math.max(300,Math.min(window.innerWidth,E+(k.clientX-r)));x(y=>({...y,width:L}))},_=()=>{u(!1),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",_)};document.addEventListener("mousemove",W),document.addEventListener("mouseup",_)}}),S.createElement(o,{sx:{position:"absolute",bottom:-8,left:0,width:"100%",height:16,cursor:"ns-resize",zIndex:1e3},onMouseDown:e=>{e.preventDefault(),u(!0);const r=e.clientY,E=p.height,W=k=>{const L=Math.max(600,Math.min(window.innerHeight,E+(k.clientY-r)));x(y=>({...y,height:L}))},_=()=>{u(!1),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",_)};document.addEventListener("mousemove",W),document.addEventListener("mouseup",_)}}),S.createElement(o,{sx:{position:"absolute",bottom:-8,left:-8,width:20,height:20,cursor:"ne-resize",zIndex:1001},onMouseDown:e=>{e.preventDefault(),u(!0);const r=e.clientX,E=e.clientY,W=p.width,_=p.height,k=a.x,L=Y=>{const I=Y.clientX-r,V=Math.max(300,Math.min(window.innerWidth,W-I)),q=Math.max(600,Math.min(window.innerHeight,_+(Y.clientY-E))),ne=W-V,ae=Math.max(0,Math.min(window.innerWidth-V,k+ne));x({width:V,height:q}),A(ee=>({...ee,x:ae}))},y=()=>{u(!1),document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",y)}}),S.createElement(o,{sx:{position:"absolute",bottom:-8,right:-8,width:20,height:20,cursor:"nw-resize",zIndex:1001},onMouseDown:e=>{e.preventDefault(),u(!0);const r=e.clientX,E=e.clientY,W=p.width,_=p.height,k=y=>{const Y=Math.max(300,Math.min(window.innerWidth,W+(y.clientX-r))),I=Math.max(600,Math.min(window.innerHeight,_+(y.clientY-E)));x({width:Y,height:I})},L=()=>{u(!1),document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",L)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",L)}})))),S.createElement(Ve,null),S.createElement(i,null,d("t-collaborative-office")))}const z=window.React,le=window.React.useState,Lt=window.React.useEffect;function It(n){const{t:d}=J(),M=C(),p=s=>{n.onClick(s),n.closeAll()},[x,a]=le({}),[A,b]=le({}),[T,w]=le({});Lt(()=>{$.forEach(async s=>{await ct(s.id)?(a(e=>({...e,[s.id]:"installed"})),w(e=>({...e,[s.id]:!0}))):a(e=>({...e,[s.id]:"not_installed"}))})},[]);const R=(s,f)=>{const e=$[s];if(!e)return;const{url:r,id:E}=e;switch(f){case"install":g(s,r,E);break;case"stop":F(E);break;case"uninstall":N(E);break;case"toggleEnable":j(E);break}},g=(s,f,e)=>{let E=!1;a(k=>({...k,[e]:"downloading"})),b(k=>({...k,[e]:0}));const W=Date.now();mt(f,e,k=>{if(k>=0&&b(L=>({...L,[e]:k})),k===100){const L=Date.now()-W;L<2500?setTimeout(()=>{E||(xe(d("t-lab-install-success"),2e3,{kind:"success"}),a(y=>({...y,[e]:"installed"})),w(y=>({...y,[e]:!0})))},2500-L):E||(xe(d("t-lab-install-success"),2e3,{kind:"success"}),a(y=>({...y,[e]:"installed"})),w(y=>({...y,[e]:!0})))}});const _=()=>{E=!0,F(e)};u[e]=_},u={},F=s=>{u[s]&&(u[s](),delete u[s]),a(f=>({...f,[s]:"not_installed"})),b(f=>({...f,[s]:0}))},N=async s=>{const f=await dt("cache_DB");ut(f,"data",s),a(e=>({...e,[s]:"not_installed"}))},j=s=>{w(f=>({...f,[s]:!f[s]}))},$=[{title:d("t-lab-card-spelling-association-title"),description:d("t-lab-card-spelling-association-desc"),url:`https://${window._cdn.cdn[0]}/npm/an-array-of-english-words@2.0.0/index.json`,id:"spelling_data_json"},{title:d("t-lab-card-spelling-check-title"),description:d("t-lab-card-spelling-check-desc"),url:"https://jsonplaceholder.typicode.com/todos/2",id:"check_spell"}];return z.createElement(z.Fragment,null,z.createElement(Q,{className:"transparent-scrollbar",hideBackdrop:!1,fullScreen:!1,maxWidth:!1,open:n.open,onClose:p,sx:{height:"100svh",width:"100svw",display:"flex",justifyContent:"center",alignItems:"center"}},z.createElement(o,{className:"transparent-scrollbar",sx:{overflowX:"hidden",height:"50svh",width:"50svw",display:"flex",flexDirection:"column",background:M==="light"?"#F8FAFB":"#2B2B2B",padding:"24px",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.2)",alignItems:"center"}},z.createElement(i,{fontSize:30,fontWeight:"bold",textAlign:"center"},d("t-lab-title")),z.createElement(K,{sx:{width:"100%",my:2}}),z.createElement(o,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"24px",width:"100%"}},$.map((s,f)=>{const e=x[s.id]||"not_installed",r=T[s.id]??!0;return z.createElement(qe,{key:f,sx:{width:"250px",height:"220px",borderRadius:"12px",boxShadow:3,display:"flex",flexDirection:"column",justifyContent:"space-between",padding:2}},z.createElement(o,{sx:{flex:1}},z.createElement(i,{variant:"h6",sx:{fontWeight:"bold"}},s.title),z.createElement(i,{variant:"body2",color:"textSecondary"},s.description)),z.createElement(o,{sx:{display:"flex",justifyContent:"space-between",gap:1}},e==="not_installed"&&z.createElement(H,{variant:"contained",color:"primary",sx:{flex:1,minWidth:"64px",height:"42px"},onClick:()=>R(f,"install")},d("t-lab-button-install")),e==="downloading"&&z.createElement(H,{variant:"contained",color:"error",sx:{flex:1,display:"flex",minWidth:"64px",height:"42px",alignItems:"center",justifyContent:"center"},onClick:()=>R(f,"stop")},z.createElement(Ge,{size:20,sx:{color:"white",marginRight:1}})),e==="installed"&&z.createElement(z.Fragment,null,z.createElement(H,{variant:"contained",color:"secondary",sx:{flex:1},onClick:()=>R(f,"uninstall")},d("t-lab-button-uninstall")),z.createElement(H,{variant:"contained",color:r?"success":"warning",sx:{flex:1},onClick:()=>R(f,"toggleEnable")},d(r?"t-lab-button-disable":"t-lab-button-enable")))))})))),z.createElement(Je,null),z.createElement(i,null,d("t-lab-title")))}const l=window.React,on=Me(()=>{const{t:n}=J(),d=Et(),[M,p]=l.useState(null),[x,a]=l.useState(null),[A,b]=l.useState(null),[T,w]=l.useState(null),[R,g]=l.useState(null),[u,F]=l.useState(null),[N,j]=l.useState(!1),$=!!M,s=!!x,f=!!A,e=!!T,r=!!R,E=!!u,W=c=>{p(c.currentTarget)},_=c=>{a(c.currentTarget),c.stopPropagation()},k=async c=>{await pt()?(b(c.target),c.stopPropagation()):(c.stopPropagation(),I(),j(!0))},L=c=>{w(c.currentTarget)},y=c=>{g(c.currentTarget)},Y=c=>{F(c.currentTarget)},I=()=>{p(null)},V=c=>{a(null),c.stopPropagation()},q=c=>{b(null),c.stopPropagation()},ne=c=>{w(null),c.stopPropagation()},ae=c=>{g(null),c.stopPropagation()},ee=c=>{F(null),c.stopPropagation()},Re=()=>{d.display(),I()},We=()=>{ft(!0),I()};return l.createElement("div",null,l.createElement(Q,{open:N,onClose:()=>{j(!1)}},l.createElement(oe,null,l.createElement(i,{variant:"h6",gutterBottom:!0},"确定导出吗，你还没有保存呢！")),l.createElement(ie,null,l.createElement(Se,null,l.createElement(i,{variant:"body1",gutterBottom:!0},'Once you have clicked the "yes" button, your text will be saved.'))),l.createElement(se,null,l.createElement(H,{onClick:()=>{j(!1),ht(),ze()}},"是嘟"),l.createElement(H,{onClick:()=>{j(!1)},autoFocus:!0},"达咩"))),l.createElement(gt,{open:$,endIcon:l.createElement(Ke,null),onClick:W},n("t-more")),l.createElement(ce,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:M,open:$,onClose:I},l.createElement(h,{onClick:Re,disableRipple:!0},l.createElement(Qe,null),n("t-image-manager")),l.createElement(h,{onClick:We,disableRipple:!0},l.createElement(Ze,null),n("t-file-manager")),l.createElement(h,{onClick:c=>{k(c)},disableRipple:!0},l.createElement(St,{anchorEl:A,open:f,closeMenu:I,closeExportMenu:q})),l.createElement(K,{sx:{my:.5}}),l.createElement(h,{onClick:c=>{_(c)},disableRipple:!0},l.createElement(bt,{closeAll:I,anchorEl:x,open:s,onClick:V})),l.createElement(h,{onClick:c=>{y(c)},disableRipple:!0},l.createElement(_t,{closeAll:I,anchorEl:R,closeMenu:I,open:r,onClick:ae})),l.createElement(h,{onClick:c=>{Y(c)},disableRipple:!0},l.createElement(It,{closeAll:I,anchorEl:u,closeMenu:ee,open:E,onClick:ee})),l.createElement(h,{onClick:c=>{L(c)},disableRipple:!0},l.createElement(Rt,{closeAll:I,anchorEl:T,open:e,onClick:ne})),l.createElement(h,{onClick:()=>{I()},disableRipple:!0},l.createElement(et,null),n("t-more-coming-soon"))))});export{on as default};
