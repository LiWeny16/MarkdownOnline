import{I as N}from"./internmap-7949acc8.js";import{r as P,b as T,t as $,a as j,c as z}from"./d3-array-58f6faf7.js";import{f as B,p as L,a as W,b as q,c as C,d as E}from"./d3-format-ffdb8652.js";import{i as G,a as J,b as K}from"./d3-interpolate-23596b47.js";import{t as Q}from"./d3-time-format-0d1ca8ac.js";import{s as U,t as V,a as X,b as Z,c as _,d as nn,e as rn,f as tn,g as en}from"./d3-time-ff8162d9.js";function w(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const x=Symbol("implicit");function D(){var n=new N,t=[],o=[],r=x;function e(a){let u=n.get(a);if(u===void 0){if(r!==x)return r;n.set(a,u=t.push(a)-1)}return o[u%o.length]}return e.domain=function(a){if(!arguments.length)return t.slice();t=[],n=new N;for(const u of a)n.has(u)||n.set(u,t.push(u)-1);return e},e.range=function(a){return arguments.length?(o=Array.from(a),e):o.slice()},e.unknown=function(a){return arguments.length?(r=a,e):r},e.copy=function(){return D(t,o).unknown(r)},w.apply(e,arguments),e}function un(){var n=D().unknown(void 0),t=n.domain,o=n.range,r=0,e=1,a,u,f=!1,m=0,c=0,l=.5;delete n.unknown;function g(){var i=t().length,d=e<r,p=d?e:r,M=d?r:e;a=(M-p)/Math.max(1,i-m+c*2),f&&(a=Math.floor(a)),p+=(M-p-a*(i-m))*l,u=a*(1-m),f&&(p=Math.round(p),u=Math.round(u));var k=P(i).map(function(y){return p+a*y});return o(d?k.reverse():k)}return n.domain=function(i){return arguments.length?(t(i),g()):t()},n.range=function(i){return arguments.length?([r,e]=i,r=+r,e=+e,g()):[r,e]},n.rangeRound=function(i){return[r,e]=i,r=+r,e=+e,f=!0,g()},n.bandwidth=function(){return u},n.step=function(){return a},n.round=function(i){return arguments.length?(f=!!i,g()):f},n.padding=function(i){return arguments.length?(m=Math.min(1,c=+i),g()):m},n.paddingInner=function(i){return arguments.length?(m=Math.min(1,i),g()):m},n.paddingOuter=function(i){return arguments.length?(c=+i,g()):c},n.align=function(i){return arguments.length?(l=Math.max(0,Math.min(1,i)),g()):l},n.copy=function(){return un(t(),[r,e]).round(f).paddingInner(m).paddingOuter(c).align(l)},w.apply(g(),arguments)}function an(n){return function(){return n}}function on(n){return+n}var I=[0,1];function v(n){return n}function b(n,t){return(t-=n=+n)?function(o){return(o-n)/t}:an(isNaN(t)?NaN:.5)}function cn(n,t){var o;return n>t&&(o=n,n=t,t=o),function(r){return Math.max(n,Math.min(t,r))}}function sn(n,t,o){var r=n[0],e=n[1],a=t[0],u=t[1];return e<r?(r=b(e,r),a=o(u,a)):(r=b(r,e),a=o(a,u)),function(f){return a(r(f))}}function fn(n,t,o){var r=Math.min(n.length,t.length)-1,e=new Array(r),a=new Array(r),u=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<r;)e[u]=b(n[u],n[u+1]),a[u]=o(t[u],t[u+1]);return function(f){var m=T(n,f,1,r)-1;return a[m](e[m](f))}}function A(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function ln(){var n=I,t=I,o=J,r,e,a,u=v,f,m,c;function l(){var i=Math.min(n.length,t.length);return u!==v&&(u=cn(n[0],n[i-1])),f=i>2?fn:sn,m=c=null,g}function g(i){return i==null||isNaN(i=+i)?a:(m||(m=f(n.map(r),t,o)))(r(u(i)))}return g.invert=function(i){return u(e((c||(c=f(t,n.map(r),G)))(i)))},g.domain=function(i){return arguments.length?(n=Array.from(i,on),l()):n.slice()},g.range=function(i){return arguments.length?(t=Array.from(i),l()):t.slice()},g.rangeRound=function(i){return t=Array.from(i),o=K,l()},g.clamp=function(i){return arguments.length?(u=i?!0:v,l()):u!==v},g.interpolate=function(i){return arguments.length?(o=i,l()):o},g.unknown=function(i){return arguments.length?(a=i,g):a},function(i,d){return r=i,e=d,l()}}function F(){return ln()(v,v)}function mn(n,t,o,r){var e=$(n,t,o),a;switch(r=B(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(a=q(e,u))&&(r.precision=a),C(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=W(e,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=L(e))&&(r.precision=a-(r.type==="%")*2);break}}return E(r)}function gn(n){var t=n.domain;return n.ticks=function(o){var r=t();return j(r[0],r[r.length-1],o??10)},n.tickFormat=function(o,r){var e=t();return mn(e[0],e[e.length-1],o??10,r)},n.nice=function(o){o==null&&(o=10);var r=t(),e=0,a=r.length-1,u=r[e],f=r[a],m,c,l=10;for(f<u&&(c=u,u=f,f=c,c=e,e=a,a=c);l-- >0;){if(c=z(u,f,o),c===m)return r[e]=u,r[a]=f,t(r);if(c>0)u=Math.floor(u/c)*c,f=Math.ceil(f/c)*c;else if(c<0)u=Math.ceil(u*c)/c,f=Math.floor(f*c)/c;else break;m=c}return n},n}function hn(){var n=F();return n.copy=function(){return A(n,hn())},w.apply(n,arguments),gn(n)}function pn(n,t){n=n.slice();var o=0,r=n.length-1,e=n[o],a=n[r],u;return a<e&&(u=o,o=r,r=u,u=e,e=a,a=u),n[o]=t.floor(e),n[r]=t.ceil(a),n}function dn(n){return new Date(n)}function vn(n){return n instanceof Date?+n:+new Date(+n)}function R(n,t,o,r,e,a,u,f,m,c){var l=F(),g=l.invert,i=l.domain,d=c(".%L"),p=c(":%S"),M=c("%I:%M"),k=c("%I %p"),y=c("%a %d"),S=c("%b %d"),O=c("%B"),Y=c("%Y");function H(s){return(m(s)<s?d:f(s)<s?p:u(s)<s?M:a(s)<s?k:r(s)<s?e(s)<s?y:S:o(s)<s?O:Y)(s)}return l.invert=function(s){return new Date(g(s))},l.domain=function(s){return arguments.length?i(Array.from(s,vn)):i().map(dn)},l.ticks=function(s){var h=i();return n(h[0],h[h.length-1],s??10)},l.tickFormat=function(s,h){return h==null?H:c(h)},l.nice=function(s){var h=i();return(!s||typeof s.range!="function")&&(s=t(h[0],h[h.length-1],s??10)),s?i(pn(h,s)):l},l.copy=function(){return A(l,R(n,t,o,r,e,a,u,f,m,c))},l}function xn(){return w.apply(R(en,tn,rn,nn,_,Z,X,V,U,Q).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}export{un as b,hn as l,D as o,xn as t};
